# GitHub Actions Secrets Configuration Example
# 
# This file shows what secrets need to be configured in your GitHub repository.
# Go to: Settings > Secrets and variables > Actions > New repository secret
#
# DO NOT commit actual secrets to the repository!

# =============================================================================
# GCP Authentication (REQUIRED)
# =============================================================================

# GCP_SA_KEY
# Description: Service Account JSON key with deployment permissions
# Format: Complete JSON object
# Example:
# {
#   "type": "service_account",
#   "project_id": "your-project-id",
#   "private_key_id": "...",
#   "private_key": "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n",
#   "client_email": "github-actions-deployer@your-project-id.iam.gserviceaccount.com",
#   "client_id": "...",
#   "auth_uri": "https://accounts.google.com/o/oauth2/auth",
#   "token_uri": "https://oauth2.googleapis.com/token",
#   "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
#   "client_x509_cert_url": "..."
# }

# GCP_PROJECT_ID
# Description: Your Google Cloud Project ID
# Format: String
# Example: my-project-12345

# =============================================================================
# Application Configuration (REQUIRED)
# =============================================================================

# PORT
# Description: Port where the Flask application listens
# Format: Integer
# Example: 3000
# Note: Cloud Run will override this with its own PORT variable, but this is
#       used during Docker build and can be set as env var for consistency

# API_KEY
# Description: API key for authenticating requests to the service
# Format: String (minimum 32 characters recommended)
# Example: your_generated_api_key_32_chars_minimum
# Usage: Must be included in X-API-Key header when calling /execute endpoint
# Security: Use a strong, randomly generated key. Generate with:
#   python3 -c "import secrets; print(secrets.token_urlsafe(32))"
# Note: If not set, the service will allow unauthenticated requests (dev only)

# ENDPOINTS
# Description: JSON array of endpoint configurations to execute
# Format: JSON array (supports ${VAR_NAME} template variables for sensitive data)
# 
# üîê RECOMMENDED: Use template variables to separate secrets from structure
# Template variables are replaced at runtime with values from environment variables
#
# Example (with template variables - RECOMMENDED):
# [
#   {
#     "url": "https://api.domain.com/sync",
#     "method": "POST",
#     "headers": {
#       "Authorization": "Bearer ${ENDPOINT_API_KEY}"
#     }
#   },
#   {
#     "url": "https://external-api.example.com/data",
#     "method": "GET",
#     "headers": {
#       "X-API-Key": "${EXTERNAL_SERVICE_TOKEN}"
#     }
#   }
# ]
# Note: Create separate secrets for ENDPOINT_API_KEY, EXTERNAL_SERVICE_TOKEN, etc.
#
# Example (simple URLs):
# ["http://example.com/api1", "http://example.com/api2"]
#
# Example (full configuration with direct values - NOT recommended for secrets):
# [
#   {
#     "url": "https://api.example.com/users",
#     "method": "POST",
#     "headers": {
#       "Authorization": "Bearer token123",
#       "Content-Type": "application/json"
#     },
#     "json": {
#       "name": "John",
#       "email": "john@example.com"
#     },
#     "timeout": 30
#   }
# ]

# =============================================================================
# Template Variable Secrets (Add as needed based on ENDPOINTS configuration)
# =============================================================================

# If ENDPOINTS uses template variables like ${ENDPOINT_API_KEY}, create corresponding secrets:

# ENDPOINT_API_KEY
# Description: API token for domain service (if used in ENDPOINTS)
# Format: String
# Example: your_endpoint_service_api_token_here

# EXTERNAL_SERVICE_TOKEN
# Description: Token for external API service (if used in ENDPOINTS)
# Format: String
# Example: bearer_abc123def456ghi789

# DATABASE_PASSWORD
# Description: Database password (if used in ENDPOINTS)
# Format: String
# Example: super_secret_password_xyz

# Add more secrets as needed based on your ENDPOINTS configuration...
# Each ${VAR_NAME} in ENDPOINTS needs a corresponding secret here

# =============================================================================
# Optional Secrets
# =============================================================================

# If you need to pass additional environment variables to your Cloud Run service,
# add them as secrets and update the deploy.yml workflow:
#
# In deploy.yml, add to the "Deploy to Cloud Run" step's --set-env-vars:
#   --set-env-vars="...,YOUR_VAR=${{ secrets.YOUR_VAR }}"
#
# Example for template variables in ENDPOINTS:
#   --set-env-vars="PORT=${{ env.PORT }},ENDPOINTS=${{ env.ENDPOINTS }},API_KEY=${{ env.API_KEY }},ENDPOINT_API_KEY=${{ secrets.ENDPOINT_API_KEY }}"
